(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var s=e.i(87012),a=e.i(75522),t=e.i(47163);let r=a.forwardRef(({className:e,type:a,...r},i)=>(0,s.jsx)("input",{type:a,className:(0,t.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));r.displayName="Input",e.s(["Input",()=>r])},65833,e=>{"use strict";var s=e.i(87012),a=e.i(75522),t=e.i(79907),r=e.i(67881),i=e.i(70065),l=e.i(23750),n=e.i(10708),o=e.i(69098);function d(){let[e,d]=(0,a.useState)({hookUrl:"",baseUrl:"",apiKey:"",model:""}),[c,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!0),[p,u]=(0,a.useState)(!1),j=async()=>{try{h(!0);let e=await fetch("http://localhost:8888/api/config",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("èŽ·å–é…ç½®å¤±è´¥");let s=await e.json();s.success&&s.data&&d({hookUrl:s.data.HOOK_URL||"",baseUrl:s.data.BASE_URL||"",apiKey:s.data.API_KEY||"",model:s.data.MODEL||""})}catch(e){console.error("èŽ·å–é…ç½®å¤±è´¥:",e),alert("èŽ·å–é…ç½®å¤±è´¥ï¼Œè¯·æ£€æŸ¥åŽç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ")}finally{h(!1)}};(0,a.useEffect)(()=>{j()},[]);let f=async()=>{try{u(!0);let s={HOOK_URL:e.hookUrl,BASE_URL:e.baseUrl,API_KEY:e.apiKey,MODEL:e.model},a=await fetch("http://localhost:8888/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw Error("ä¿å­˜é…ç½®å¤±è´¥");let t=await a.json();if(t.success)alert(`çŽ¯å¢ƒå˜é‡é…ç½®å·²ä¿å­˜ï¼å…±æ›´æ–° ${t.updateCount} é¡¹`);else throw Error(t.message||"ä¿å­˜é…ç½®å¤±è´¥")}catch(e){console.error("ä¿å­˜é…ç½®å¤±è´¥:",e),alert("ä¿å­˜é…ç½®å¤±è´¥: "+e)}finally{u(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o.default,{icon:(0,s.jsx)(t.BiCodeAlt,{className:"text-2xl"}),title:"çŽ¯å¢ƒå˜é‡é…ç½®",subtitle:".env_template çŽ¯å¢ƒå˜é‡ç®¡ç†"}),m&&(0,s.jsx)(i.Card,{className:"border-blue-500/20 bg-blue-500/5",children:(0,s.jsx)(i.CardContent,{className:"pt-6",children:(0,s.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:"åŠ è½½é…ç½®ä¸­..."})})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.Card,{className:"animate-in fade-in slide-in-from-bottom-5 duration-700",children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(t.BiLinkExternal,{className:"text-primary"}),"ä¼ä¸šå¾®ä¿¡ Webhook"]}),(0,s.jsx)(i.CardDescription,{children:"é…ç½®ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººï¼Œç”¨äºŽæŽ¥æ”¶é€šçŸ¥æ¶ˆæ¯"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"hookUrl",children:"Webhook URL"}),(0,s.jsx)(l.Input,{id:"hookUrl",type:"text",value:e.hookUrl,onChange:s=>d({...e,hookUrl:s.target.value}),placeholder:"https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_key"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººwebhookåœ°å€ï¼Œç”¨äºŽæŽ¥æ”¶é€šçŸ¥æ¶ˆæ¯"})]})})]}),(0,s.jsxs)(i.Card,{className:"animate-in fade-in slide-in-from-bottom-6 duration-700",children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(t.BiCodeAlt,{className:"text-primary"}),"API é…ç½®"]}),(0,s.jsx)(i.CardDescription,{children:"é…ç½® API æœåŠ¡å™¨åœ°å€å’Œä½¿ç”¨çš„ AI æ¨¡åž‹"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"baseUrl",children:"API Base URL"}),(0,s.jsx)(l.Input,{id:"baseUrl",type:"text",value:e.baseUrl,onChange:s=>d({...e,baseUrl:s.target.value}),placeholder:"https://api.ruyun.fun"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"APIæœåŠ¡å™¨åœ°å€"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"model",children:"AIæ¨¡åž‹"}),(0,s.jsx)(l.Input,{id:"model",type:"text",value:e.model,onChange:s=>d({...e,model:s.target.value}),placeholder:"gpt-5-nano-2025-08-07"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"ä½¿ç”¨çš„AIæ¨¡åž‹åç§°"})]})]})})]}),(0,s.jsxs)(i.Card,{className:"animate-in fade-in slide-in-from-bottom-7 duration-700",children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(t.BiKey,{className:"text-primary"}),"API å¯†é’¥"]}),(0,s.jsx)(i.CardDescription,{children:"é…ç½® API è®¿é—®å¯†é’¥ï¼Œè¯·å¦¥å–„ä¿ç®¡"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"apiKey",children:"API Key"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Input,{id:"apiKey",type:c?"text":"password",value:e.apiKey,onChange:s=>d({...e,apiKey:s.target.value}),placeholder:"sk-xxxxxxxxxxxxxxxxx"}),(0,s.jsx)(r.Button,{onClick:()=>x(!c),variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7",type:"button",children:c?"éšè—":"æ˜¾ç¤º"})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"ðŸ” APIå¯†é’¥å°†è¢«å®‰å…¨å­˜å‚¨ï¼Œè¯·å¦¥å–„ä¿ç®¡"})]})})]}),(0,s.jsx)(i.Card,{className:"border-primary/20 bg-primary/5 animate-in fade-in slide-in-from-bottom-8 duration-700",children:(0,s.jsx)(i.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(t.BiInfoCircle,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-sm text-foreground",children:[(0,s.jsx)("strong",{className:"font-semibold",children:"æç¤ºï¼š"})," è¿™äº›çŽ¯å¢ƒå˜é‡å°†ä¿å­˜åˆ°"," ",(0,s.jsx)("code",{className:"bg-primary/10 px-2 py-0.5 rounded text-primary font-mono text-xs",children:".env"})," ","æ–‡ä»¶ä¸­ã€‚è¯·å‹¿å°†åŒ…å«æ•æ„Ÿä¿¡æ¯çš„ .env æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿã€‚"]})})]})})}),(0,s.jsx)("div",{className:"flex justify-center items-center animate-in fade-in slide-in-from-bottom-9 duration-700",children:(0,s.jsxs)(r.Button,{onClick:f,size:"lg",className:"min-w-[180px]",disabled:m||p,children:[(0,s.jsx)(t.BiSave,{}),p?"ä¿å­˜ä¸­...":"ä¿å­˜çŽ¯å¢ƒå˜é‡"]})})]})]})}e.s(["default",()=>d])}]);